# =============================================================================
# OPERATION DESERT CITADEL - Multi-VM Deployment Specification
# =============================================================================
# CDX-E Framework VM Specification
# Purpose: Single-site Corporate Network Infrastructure
# Organization: Madripoor (madripoor.mdp)
# Domain Prefix: MDP
# =============================================================================

exercise:
  name: "DESERT_CITADEL"
  description: "Single-site Corporate Network Training Environment"
  classification: "mission_partner"

ssh:
  user: "root"
  auth: "key"

cloud_init_defaults:
  username: "cdxadmin"
  password: "P@ssw0rd"
  ssh_public_key: ""  # TODO: populate with exercise SSH key

# =============================================================================
# Network Topology
# =============================================================================
# Defines OVS bridges and CDX-I patch ports per Proxmox node.
#
# Sites:
#   Singapore - Madripoor Singapore office (mdp_sng_*)  CDX-I VLAN 510
#
# Bridge types per site:
#   _in  - Internal network (isolated LAN)
#   _ex  - External/DMZ network (CDX-I uplink via OVS patch port)
# =============================================================================
network_topology:
  sites:
    # ----- Singapore -----
    - name: "sng"
      label: "Madripoor, Singapore"
      node: "cdx-pve-01"
      bridges:
        - name: "mdp_sng_in"
          description: "Madripoor, Singapore Internal Networks Bridge"
        - name: "mdp_sng_ex"
          description: "Madripoor, Singapore External/DMZ Bridge"
          cdxi_patch:
            site_code: "sng"
            vlan_tag: 510

# =============================================================================
# Virtual Machine Specifications
# =============================================================================
# TODO: Populate VM definitions.
# Template references are resolved via roles/cdx_e/vars/main.yml
# eth0/net0 is reserved for management (no configuration required)
#
# Bridge Reference:
#   mdp_sng_in - Singapore Internal
#   mdp_sng_ex - Singapore External/DMZ
# =============================================================================
virtual_machines: []
