configure

########################################
# System Identity / Base Services
########################################

set system host-name 'IXP-T1-EQIX-4'
set system domain-name 'cdx.lab'
set system time-zone 'America/Los_Angeles'

set service ntp server '46.244.164.88'
set service ssh port '22'

########################################
# Interfaces
# eth0: Management
########################################

# eth0: Management (DHCP from lab management network)
set interfaces ethernet eth0 description 'Management'
set interfaces ethernet eth0 address 'dhcp'

# eth1: Tier-1 Regional Gateway – Seattle (Multiple Regional / ISP Peering Blocks)
set interfaces ethernet eth1 description 'Tier 1 Regional Gateway - Seattle'
set interfaces ethernet eth1 address '13.248.0.174/15'
set interfaces ethernet eth1 address '17.66.76.17/22'
set interfaces ethernet eth1 address '23.96.0.77/13'
set interfaces ethernet eth1 address '50.115.160.44/20'
set interfaces ethernet eth1 address '50.66.64.18/18'
set interfaces ethernet eth1 address '45.54.128.36/19'
set interfaces ethernet eth1 address '132.163.97.44/23'
set interfaces ethernet eth1 address '68.148.228.202/22'
set interfaces ethernet eth1 address '50.71.148.92/22'
set interfaces ethernet eth1 address '18.201.0.94/16'
set interfaces ethernet eth1 address '50.222.0.67/17'
set interfaces ethernet eth1 address '63.140.64.85/18'
set interfaces ethernet eth1 address '50.201.112.112/24'
set interfaces ethernet eth1 address '13.85.144.17/20'
set interfaces ethernet eth1 address '13.140.0.90/14'
set interfaces ethernet eth1 address '68.27.0.112/16'
set interfaces ethernet eth1 address '4.184.0.101/19'
set interfaces ethernet eth1 address '63.49.14.22/23'
set interfaces ethernet eth1 address '63.239.0.46/19'
set interfaces ethernet eth1 address '8.225.144.37/20'
set interfaces ethernet eth1 address '23.51.192.71/20'
set interfaces ethernet eth1 address '4.244.0.49/16'
set interfaces ethernet eth1 address '38.145.0.123/17'
set interfaces ethernet eth1 address '23.36.249.17/24'
set interfaces ethernet eth1 address '52.164.206.1/24'
set interfaces ethernet eth1 address '104.215.95.1/24'

# Root DNS address space on regional interface (EQIX4 - Seattle allocation)
set interfaces ethernet eth1 address '199.9.14.1/24'      # b.root-servers.net
set interfaces ethernet eth1 address '192.203.230.1/24'   # e.root-servers.net
set interfaces ethernet eth1 address '192.5.5.1/24'       # f.root-servers.net
set interfaces ethernet eth1 address '199.7.83.1/24'      # l.root-servers.net

# eth2: Upstream to Tier-0
set interfaces ethernet eth2 description 'to TIER 0'
set interfaces ethernet eth2 address '198.32.134.92/28'

########################################
# Static Routing
########################################
# (None – Tier-1 router participates in OSPF only)
########################################

########################################
# OSPF – Tier-1 Regional IXP (Seattle)
# - Area 0: Link to Tier-0
# - Area 4: Seattle Regional Peering Blocks + Root DNS
# - Router-ID based on primary Seattle address
########################################

# Router-ID for this Tier-1 IXP
set protocols ospf parameters router-id '13.248.0.174'

# Tier-0 transit network (Area 0)
set protocols ospf area 0 network '198.32.134.80/28'

# Seattle regional peering networks (Area 4)
set protocols ospf area 4 network '13.248.0.0/15'
set protocols ospf area 4 network '17.66.76.0/22'
set protocols ospf area 4 network '23.96.0.0/13'
set protocols ospf area 4 network '50.115.160.0/20'
set protocols ospf area 4 network '50.66.64.0/18'
set protocols ospf area 4 network '45.54.128.0/19'
set protocols ospf area 4 network '132.163.96.0/23'
set protocols ospf area 4 network '68.148.228.0/22'
set protocols ospf area 4 network '50.71.148.0/22'
set protocols ospf area 4 network '18.201.0.0/16'
set protocols ospf area 4 network '50.222.0.0/17'
set protocols ospf area 4 network '63.140.64.0/18'
set protocols ospf area 4 network '50.201.112.0/24'
set protocols ospf area 4 network '13.85.144.0/20'
set protocols ospf area 4 network '13.140.0.0/14'
set protocols ospf area 4 network '68.27.0.0/16'
set protocols ospf area 4 network '4.184.0.0/19'
set protocols ospf area 4 network '62.57.136.0/21'
set protocols ospf area 4 network '63.239.0.0/19'
set protocols ospf area 4 network '8.225.144.0/20'
set protocols ospf area 4 network '23.51.192.0/20'
set protocols ospf area 4 network '4.244.0.0/16'
set protocols ospf area 4 network '23.36.249.0/24'
set protocols ospf area 4 network '38.145.0.0/17'
set protocols ospf area 4 network '52.164.206.0/24'
set protocols ospf area 4 network '104.215.95.0/24'

# Root DNS networks (Area 4) - EQIX4 Seattle allocation
set protocols ospf area 4 network '199.9.14.0/24'        # b.root-servers.net
set protocols ospf area 4 network '192.203.230.0/24'     # e.root-servers.net
set protocols ospf area 4 network '192.5.5.0/24'         # f.root-servers.net
set protocols ospf area 4 network '199.7.83.0/24'        # l.root-servers.net

########################################
# NAT
# (None – Tier-1 regional gateway is purely routed)
########################################
# (Intentionally no "set nat ..." statements)

commit
save
exit
