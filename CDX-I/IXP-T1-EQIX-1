configure

########################################
# System Identity / Base Services
########################################

set system host-name 'IXP-T1-EQIX-1'
set system domain-name 'cdx.lab'
set system time-zone 'Europe/London'

set service ntp server '46.244.164.88'
set service ssh port '2022'

########################################
# Interfaces
# eth0: Management
########################################

# eth0: Management (DHCP from lab management network)
set interfaces ethernet eth0 description 'Management'
set interfaces ethernet eth0 address 'dhcp'

# eth1: Tier-1 Regional Gateway – London (Multiple Regional / ISP Peering Blocks)
set interfaces ethernet eth1 description 'Tier 1 Regional Gateway - London'
set interfaces ethernet eth1 address '46.33.28.94/22'
set interfaces ethernet eth1 address '46.33.128.36/19'
set interfaces ethernet eth1 address '131.227.0.124/16'
set interfaces ethernet eth1 address '91.221.76.88/23'
set interfaces ethernet eth1 address '154.58.200.93/21'
set interfaces ethernet eth1 address '212.18.160.204/19'
set interfaces ethernet eth1 address '62.130.142.37/23'
set interfaces ethernet eth1 address '31.187.32.77/19'
set interfaces ethernet eth1 address '57.94.0.99/19'
set interfaces ethernet eth1 address '5.62.8.51/22'
set interfaces ethernet eth1 address '5.153.64.119/19'
set interfaces ethernet eth1 address '37.64.0.25/14'
set interfaces ethernet eth1 address '2.6.0.67/19'
set interfaces ethernet eth1 address '23.222.224.202/20'
set interfaces ethernet eth1 address '41.250.224.44/21'
set interfaces ethernet eth1 address '62.57.136.194/21'
set interfaces ethernet eth1 address '62.106.64.105/19'
set interfaces ethernet eth1 address '41.77.176.116/22'
set interfaces ethernet eth1 address '41.229.158.73/23'
set interfaces ethernet eth1 address '37.102.0.93/18'
set interfaces ethernet eth1 address '50.220.138.191/23'

# Root DNS address space on regional interface (EQIX1 - London allocation)
set interfaces ethernet eth1 address '193.0.14.1/24'      # k.root-servers.net
set interfaces ethernet eth1 address '192.58.128.1/24'    # j.root-servers.net

# eth2: Upstream to Tier-0
set interfaces ethernet eth2 description 'to TIER 0'
set interfaces ethernet eth2 address '185.1.104.74/28'

########################################
# Static Routing
########################################
# (None – Tier-1 router participates in OSPF only)
########################################

########################################
# OSPF – Tier-1 Regional IXP (London)
# - Area 0: Link to Tier-0
# - Area 1: All London Regional Peering Blocks + Root DNS
# - Router-ID based on primary London address
########################################

# Router-ID for this Tier-1 IXP
set protocols ospf parameters router-id '46.33.28.94'

# Tier-0 transit network (Area 0)
set protocols ospf area 0 network '185.1.104.64/28'

# London regional peering networks (Area 1)
set protocols ospf area 1 network '46.33.28.0/22'
set protocols ospf area 1 network '46.33.128.0/19'
set protocols ospf area 1 network '131.227.0.0/16'
set protocols ospf area 1 network '91.221.76.0/23'
set protocols ospf area 1 network '154.58.200.0/21'
set protocols ospf area 1 network '212.18.160.0/19'
set protocols ospf area 1 network '62.130.142.0/23'
set protocols ospf area 1 network '31.187.32.0/19'
set protocols ospf area 1 network '57.94.0.0/19'
set protocols ospf area 1 network '5.62.8.0/22'
set protocols ospf area 1 network '5.153.64.0/19'
set protocols ospf area 1 network '37.64.0.0/14'
set protocols ospf area 1 network '2.6.0.0/19'
set protocols ospf area 1 network '23.222.224.0/20'
set protocols ospf area 1 network '41.250.224.0/21'
set protocols ospf area 1 network '62.57.136.0/21'
set protocols ospf area 1 network '62.106.64.0/19'
set protocols ospf area 1 network '41.77.176.0/22'
set protocols ospf area 1 network '41.229.158.0/23'
set protocols ospf area 1 network '37.102.0.0/18'
set protocols ospf area 1 network '50.220.138.0/23'

# Root DNS networks (Area 1) - EQIX1 London allocation
set protocols ospf area 1 network '193.0.14.0/24'        # k.root-servers.net
set protocols ospf area 1 network '192.58.128.0/24'      # j.root-servers.net

########################################
# NAT
# (None – Tier-1 regional gateway is purely routed)
########################################
# (Intentionally no "set nat ..." statements)

commit
save
exit
